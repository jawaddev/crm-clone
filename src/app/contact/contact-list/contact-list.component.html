<div>
  <div class="d-flex justify-content-between">
    <form>
      <div class="mb-3 row">
        <div class="col-xs-3 col-sm-auto">
          <input  placeholder="Search" class="form-control" type="text" [formControl]="filter">
        </div>
      </div>
    </form>
   <div>
    <a type="button" class="btn btn-secondary btn-sm" routerLink="/contact/add">Add Contact</a>


       <div ngbDropdown class="p-3 d-inline-block">
         <button type="button" class="btn btn-outline-primary" id="dropdownBasic1" ngbDropdownToggle>Columns</button>
         <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
           <ng-container *ngFor="let col of columnsList">
           <button ngbDropdownItem (click)="col.selected = !col.selected">{{col.name}}</button>
           </ng-container>
         </div>
       </div>

   </div>

  </div>
  <table class="table table-striped table-responsive">
    <thead>
    <tr>
      <ng-container *ngFor="let col of columnsList">
        <th scope="col" *ngIf="col.selected">{{col.name}}</th>
      </ng-container>
    </tr>
    </thead>
    <tbody>


    <tr *ngFor="let contact of filteredContacts">

      <td *ngIf="canShow('Full Name')">
        {{ contact.firstName }}  {{contact.familyName }}
      </td>
      <td *ngIf="canShow('Email')">
        {{ contact.email }}
      </td>
      <td *ngIf="canShow('Company')">
        {{ contact.company }}
      </td>

      <td *ngIf="canShow('Age')">{{ contact.age | number}}</td>

      <td *ngIf="canShow('Status')">{{ contact.status }}</td>

      <td *ngIf="canShow('Monthly Income')">{{ contact.monthlyIncome | number }}</td>
    </tr>
    </tbody>
  </table>
  <p *ngIf="filteredContacts.length === 0" class="text-muted">No contacts</p>
</div>

<div *ngIf="filteredContacts.length != 0" class="d-flex justify-content-between p-2">
  <ngb-pagination [collectionSize]="collectionSize" [(page)]="page" [pageSize]="pageSize" (pageChange)="refreshContacts()">
  </ngb-pagination>

  <select class="form-select" style="width: auto" [(ngModel)]="pageSize" (ngModelChange)="refreshContacts()">
    <option [ngValue]="2">2 items per page</option>
    <option [ngValue]="4">4 items per page</option>
    <option [ngValue]="6">6 items per page</option>
  </select>
</div>
